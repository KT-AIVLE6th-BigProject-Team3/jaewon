<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />
    <title>MonoGuard - 장비 상세정보</title>
    <link
      href="https://fonts.googleapis.com/icon?family=Material+Icons"
      rel="stylesheet"
    />
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/static/pretendard.min.css"
    />
    <link rel="stylesheet" href="/static/css/prj.css" />

  </head>

  <body id="page-top">
    <div id="wrapper">
      <!-- 메뉴 영역 -->
      <div id="menu"></div>

      <!-- 메인 콘텐츠 영역 -->
      <div id="content-wrapper" class="d-flex flex-column">
        <div id="content">
          <!-- 상단바 영역 -->
          <div id="topbar"></div>

          <!-- 페이지 콘텐츠 -->
          <div class="container-fluid">
            <!-- 페이지 제목 -->
            <div
              class="d-sm-flex align-items-center justify-content-between mb-4"
            >
              <h1 class="h3 mb-0 text-gray-800">장비 상세정보</h1>
            </div>

            <!-- 콘텐츠 영역 -->
            <div class="row">
              <!-- 왼쪽 영역 - 장비 목록 -->
              <div class="col-lg-3">
                <div class="card shadow mb-4">
                  <div class="card-header py-3">
                    <h6 class="m-0 font-weight-bold text-primary">장비 목록</h6>
                  </div>
                  <div class="equipment-card-body">
                    <div class="equipment-item active">
                      <span class="equipment-name">AGV-001</span>
                      <span class="equipment-status text-success">정상</span>
                    </div>
                    <div class="equipment-item">
                      <span class="equipment-name">AGV-002</span>
                      <span class="equipment-status text-caution">관심</span>
                    </div>
                    <div class="equipment-item">
                      <span class="equipment-name">AGV-003</span>
                      <span class="equipment-status text-warning">경고</span>
                    </div>
                    <div class="equipment-item">
                      <span class="equipment-name">AGV-004</span>
                      <span class="equipment-status text-danger">위험</span>
                    </div>
                  </div>
                </div>
              </div>

              <!-- 오른쪽 영역 - 상세 정보 -->
              <div class="col-lg-9">
                <!-- 기본 정보 카드 -->
                <div class="card shadow mb-4">
                  <div class="card-header py-3">
                    <h6 class="m-0 font-weight-bold text-primary">기본 정보</h6>
                  </div>
                  <div class="card-body">기본정보 들어갈 예정</div>
                </div>

                <!-- 센서 데이터 카드 -->
                <div class="card shadow mb-4">
                  <div class="card-header py-3">
                    <h6 class="m-0 font-weight-bold text-primary">
                      센서 데이터
                    </h6>
                  </div>
                  <div class="card-body">
                    <div class="sensor-grid">
                      <div class="sensor-item">
                        <div class="sensor-label">PM10</div>
                        <div class="sensor-value">10.0 µg/m3</div>
                        <div class="trend-indicator trend-up">
                          <i class="fas fa-arrow-up"></i>
                        </div>
                      </div>
                      <div class="sensor-item">
                        <div class="sensor-label">PM2.5</div>
                        <div class="sensor-value">12.0 µg/m3</div>
                        <div class="trend-indicator trend-up">
                          <i class="fas fa-arrow-up"></i>
                        </div>
                      </div>
                      <div class="sensor-item">
                        <div class="sensor-label">PM1.0</div>
                        <div class="sensor-value">20.0 µg/m3</div>
                        <div class="trend-indicator trend-down">
                          <i class="fas fa-arrow-down"></i>
                        </div>
                      </div>
                      <div class="sensor-item">
                        <div class="sensor-label">온도</div>
                        <div class="sensor-value">27.1 ℃</div>
                        <div class="trend-indicator trend-up">
                          <i class="fas fa-arrow-up"></i>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>

                <!-- 장비 상태 차트 -->
                <div class="card shadow mb-4">
                  <div class="card-header py-3">
                    <h6 class="m-0 font-weight-bold text-primary">상태 분석</h6>
                  </div>
                  <div class="agv-env-card-body">
                    <iframe
                      src=""
                      width="100%"
                      height="315"
                      frameborder="0"
                    ></iframe>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <script>
      // 메뉴와 상단바 로드
      fetch("/sidebar")
        .then((response) => response.text())
        .then((html) => (document.getElementById("menu").innerHTML = html))
        .catch((error) => console.error("Error loading sidebar:", error));

      fetch("/topbar")
        .then((response) => response.text())
        .then((html) => (document.getElementById("topbar").innerHTML = html))
        .catch((error) => console.error("Error loading topbar:", error));

      // 장비 선택 이벤트 처리
      document.querySelectorAll(".equipment-item").forEach((item) => {
        item.addEventListener("click", function () {
          document.querySelectorAll(".equipment-item").forEach((el) => {
            el.classList.remove("active");
          });
          this.classList.add("active");
        });
      });
    </script>
  </body>
</html>
